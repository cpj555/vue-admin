(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208352"],{a48a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),t._v(" "),n("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:t.list,props:t.defaultProps,"default-expand-all":"","filter-node-method":t.filterNode},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,a=e.data;return n("span",{staticClass:"custom-tree-node"},[i.data.info?n("span",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.getInfo(i,a)}}},[t._v("\n            "+t._s(i.data.info.name)+"\n          ")])],1):0===i.childNodes.length?n("span",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.getByDepartmentId(i,a)}}},[t._v("\n            "+t._s(i.label)+"\n          ")])],1):n("span",[t._v("\n          "+t._s(i.label)+"\n        ")])])}}])})],1),t._v(" "),t.staffInfo?n("el-dialog",{attrs:{title:"个人信息",visible:t.dialogFormVisible,close:t.handleClose},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{attrs:{src:t.staffInfo.avatar,width:"100px"}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("span",[t._v(t._s(t.staffInfo.name))])])]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1):t._e()],1)},a=[],l=(n("7cfd"),n("b775"));function o(){return Object(l["a"])({url:"hy/department/list",method:"get"})}function s(t){return Object(l["a"])({url:"hy/staff/department",method:"get",params:{department_id:t}})}var r={data:function(){return{dialogFormVisible:!1,defaultProps:{children:"child",label:"name"},filterText:"",listLoading:!0,list:[],staffInfo:null,formLabelWidth:"120px"}},watch:{filterText:function(t){this.$refs.tree.filter(t)}},created:function(){this.getList()},methods:{getByDepartmentId:function(t,e){var n=this;console.log(t),s(e.id).then((function(t){t.data.list.map((function(t,i,a){var l={id:t.id,name:t.name,info:t};e.child||n.$set(e,"child",[]),e.child.push(l)}))}))},getInfo:function(t,e){this.dialogFormVisible=!0,this.staffInfo=t.data.info},handleClose:function(){console.log("close"),this.staffInfo=null},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},getList:function(){var t=this;this.listLoading=!0,o().then((function(e){t.list=e.data.list,setTimeout((function(){t.listLoading=!1}),1500)}))}}},f=r,d=n("6691"),c=Object(d["a"])(f,i,a,!1,null,null,null);e["default"]=c.exports}}]);